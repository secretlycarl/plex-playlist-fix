# plex-playlist-fix
companion for [plex-playlist-sync](https://github.com/rnagabhyrava/plex-playlist-sync) that adds missing songs to Plex playlists

[Plex API Docs](https://github.com/pkkid/python-plexapi)

CURRENTLY A WORK IN PROGRESS, NOT YET WORKING COMPLETELY

This script is meant to be used in conjunction with plex-playlist-sync in Docker. It's probably possible to combine them into one but I don't have the skills for that. This script will read through the CSV files of missing songs generated by plex-playlist-sync (or any csv with title, artist etc, though the code would have to be changed), search for matching songs in your Plex library, and then add them to the appropriate Plex playlist.

It is almost complete but I'm struggling to configure the Plex stuff so it adds the songs. It can parse the CSV and match them to songs in Plex, then ask me to confirm, and it says it adds them, but it's not. I think [this](https://github.com/rnagabhyrava/plex-playlist-sync/blob/main/plex-playlist-sync/utils/plex.py) script from PPS has some of the needed code to edit the playlists but i haven't figured it out.

Need to fix the final few steps (adding to a playlist, then going on to scan the next CSV)

The current output looks like this:

```
Available Plex Libraries:
1. Movies
2. Shows
3. Music
Enter the number of the correct library: 3
You selected library: Music
Continue with this library (y/N)? y
INFO:root:Processing playlist: test1
Found track [A] in library.
...
Found track [Z] in library.
Add all 98 tracks to playlist (y/N)? y
ERROR:root:Playlist <Playlist:91595:test1> does not exist.
INFO:root:Added 98 tracks to the playlist test1.
PS C:\Users\user\Documents\plex-playlist-fix>
```

# Usage

Set up the config file with your Plex info

Set up the run command to mount the folder with CSVs from plex-playlist-sync

Build the docker image

Run the docker run command

I combined the build & run commands in the file but they can be split
